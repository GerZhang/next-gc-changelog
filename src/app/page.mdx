import { SparkleIcon } from '@/components/SparkleIcon'

export { Layout as default } from '@/components/Layout'

---

## 版本概览 {{ date: '2025-09-25T00:00Z' }}

活字格 V11 Update 1 版本现已更新 🎉 

在当前版本中，增添如下核心功能：

- AI 功能增强；
- 界面布局设计能力增强；
- 权限功能增强。

---

## AI 功能增强 {{ type: 'feature', typeText: 'AI 功能增强' }}

作为 All in One 的低代码开发平台，活字格在 AI 侧持续增强，为您在构建 AI 智能体的道路上助力！

- 提供 MCP 支持。您可以在活字格应用中调用第三方的 MCP 服务，也可以将活字格的「服务端命令」构建为 MCP Server，向第三方提供服务。
- 页面端「表格查询对话框命令」新增 AI 查询。您可以在开发表格检索数据功能时，直接借助该命令提供的检索智能体，实现自然语言沟通下的数据检索。
- 提示词编辑器现在支持上下文的联想功能。当您在编写提示词时，系统会根据您的输入，自动提示关联的上下文变量、Excel 公式、系统关键字等，并在选中后进行标红，帮助您更快、更准确地编写提示词。
- 服务端「AI 对话助手命令」现已支持独立测试。您可以在开发过程中，单独基于该命令，测试您的 AI 智能体的功能，无需像历史版本一样测试整个命令树逻辑。

---

## UI 设计逻辑重构 {{ type: 'feature', typeText: 'UI 设计重构' }}

当界面工作量较多时，活字格在 UI 设计以及单元格类型配置上会出现大量的重复性工作。因此在 V11 update 1 中，我们对设计逻辑进行了重构（非破坏性更新），以提高开发者的设计体验与开发效率，并为开发者沉淀设计规范提供了产品级的能力支撑。

![预置模块管理界面](@/images/pre-set-template-management.png)

- 全新的「预置模板管理」模块。我们将设计器中的设计页签彻底重构，上线全新的「预置模板管理」功能，按照复用粒度提供「单元格类型模板」、「区块模板」以及「自定义页面模板」三种自定义模板类型，开发者可以根据自己的需求，创建、管理、使用这些模板，以提高开发效率和设计质量。模板支持单独导入导出，便于开发者进行规范分享。
- 全局主题管理。开发者可以在「主题管理」中，统一整个工程的字体、颜色、单元格样式以及表格样式。
- 优化界面元素创建过程。当开发者在页面中创建元素时，现在支持直接从预置模板中进行快速选择。

---

## 权限功能增强 {{ type: 'optimize', typeText: '权限增强' }}

活字格基于角色的权限分配的设计思路，需要开发者先人为的将角色和权限的概念进行划分，之后再将具体的权限职能借助于角色继承的方式和相应的角色进行关联。这一过程门槛较高，且较为复杂。另外，针对多组织结构的分级授权场景，活字格也并不支持。在V11 Update 1 版本中，这两个问题都将会被解决。

- 新增「权限组」模式。活字格现已支持权限组模式，无需开发者自行实现。在权限组的设计模式下，开发者可以直接创建管理权限组，并为其维护相应的具体权限职能与角色关联。系统仍保留传统的「角色模式」以确保老版本应用的兼容。
- 支持自定义前端权限配置。基于全新的权限组模式，我们提供了新的命令插件「角色权限组管理」。借助该插件提供的命令，开发者可以在前端页面中，自定义构建配置和管理权限组的模块页面。
- 支持分级授权。在 V11 Update 1 版本中，服务器管理控制台新增了名为「分级授权」的管理后台权限模式。开启后，企业可以基于实际情况，在应用层面上，对于组织结构中的各个节点做精细化的权限管控。该模式支持多种管控模式，例如：
  - 集团管权限，子部门分管各自的应用。例如公司下 A、B两个部门都可以发布自己部门的专属应用，但彼此都看不到对方。
  - 集团子公司共用应用，但是权限需要基于各个子公司精细化管控。例如公司下 A、B两个部门，应用会被 A、B两个部门的员工共同使用。但是允许 A 部门的管理员管理应用，但是 B 部门的管理员无权管理。

---

## 开发体验优化 {{ type: 'feature', typeText: '开发体验优化' }}

增强开发者的开发体验，是活字格每个版本功能迭代必须考虑的重要问题。

- 「图文列表」优化。现已支持配置 JSON 数据源和 Excel 公式，开发者不在需要设置隐藏表格来辅助处理动态数据。此外，我们还优化了「图文列表」的性能，相比于 V11 版本，PC端的性能提升 100% 以上，移动端（PDA）的性能最多能实现 200% 以上的提升。
- 「服务端命令」的参数新增对象类型。开发者可以在服务端命令的参数中，配置参数类型为对象，这样在命令上下文中就可以直接获得对象字段。
- 命令注释增强。为了更好地支持开发者在使用命令时的理解和调试，我们增强了命令注释的功能。对于原先的注释功能，从悬浮提示改为了传统编码后缀注释风格的显式呈现。另外还额外提供了命令别名的新功能。开发者可以直接为命令提供新的别名，以实现自然语言描述伪代码的方式呈现命令逻辑。

除上述重点更新外，还增加了许多开发细节的优化：
- 命令树增加辅助线，方便开发者更好的理解命令逻辑之间的层级关系。
- 部分内置命令增加返回值。开发者可以借助于新增的返回值，对内置命令的执行结果，定制相应的处理逻辑，例如「导入 excel 数据到表格」、「导入导出 CSV 命令」等。
- 「设置变量命令」支持获取子表的数组数据，自动构建完整对象。

---

## 插件开发覆盖新功能 {{ type: 'fix', typeText: '插件开发' }}

上述新功能所设计的底层能力，都已经集成入插件依赖包中。如果您是插件开发者，希望在您的插件中使用这些新功能，请确保使用最新版本的 [插件构建器（^V1.8）](https://gitee.com/grape-city-software/forguncy-plugin-project-creator/releases/tag/V1.8)。

